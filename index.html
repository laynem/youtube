<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Project Youtube Omega</title>
        <script src="https://cdn.tailwindcss.com?plugins=forms,typography,aspect-ratio,container-queries"></script>
        <script src="https://www.gstatic.com/firebasejs/11.0.2/firebase-app.js"></script>
        <script src="https://www.gstatic.com/firebasejs/11.0.2/firebase-firestore.js"></script>
        <script src="https://www.gstatic.com/firebasejs/11.0.2/firebase-auth.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/flowbite@2.5.2/dist/flowbite.min.js"></script>
	    <script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.x.x/dist/alpine.js" defer></script>
        
    </head>
    <body>
        <div class="min-h-full flex flex-col h-screen justify-between">
            <div class="flex min-h-full flex-col justify-center px-6 py-12 lg:px-8">
                <div class="sm:mx-auto sm:w-full sm:max-w-sm">
                  <img class="mx-auto h-10 w-auto" src="https://upload.wikimedia.org/wikipedia/commons/5/57/YouTube_Studio_logo.svg" alt="Your Company">
                </div>
              
                <div class="mt-10 sm:mx-auto sm:w-full sm:max-w-sm">
                  <form class="space-y-6" action="#" method="POST">
                    <div>
                      <label for="email" class="block text-sm/6 font-medium text-gray-900">Email address</label>
                      <div class="mt-2">
                        <input id="email" name="email" type="email" autocomplete="email" required class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm/6">
                      </div>
                    </div>
              
                    <div>
                      <div class="flex items-center justify-between">
                        <label for="password" class="block text-sm/6 font-medium text-gray-900">Password</label>
                        <div class="text-sm">
                          <a href="#" class="font-semibold text-indigo-600 hover:text-indigo-500">Forgot password?</a>
                        </div>
                      </div>
                      <div class="mt-2">
                        <input id="password" name="password" type="password" autocomplete="current-password" required class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm/6">
                      </div>
                    </div>

                    <script src="https://accounts.google.com/gsi/client" async></script>
                    <div id="g_id_onload"
                        data-client_id="975424791293-i3lssfbabo2ru3dctf0fckah4qr8mbh7.apps.googleusercontent.com"
                        data-login_uri="https://your.domain/your_login_endpoint"
                        data-auto_prompt="false">
                    </div>
                    <div class="g_id_signin"
                        data-type="standard"
                        data-size="large"
                        data-theme="outline"
                        data-text="sign_in_with"
                        data-shape="rectangular"
                        data-logo_alignment="left">
                    </div>
              
                    <div>
                      <span id="googleButton" class="flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm/6 font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600">Sign in</span>
                    </div>
                  </form>
                </div>
            </div>
        </div>
        <script type="module">
        // Import the functions you need from the SDKs you need

        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-app.js";
        import {
            getDatabase,
            ref,
            set,
        } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-database.js";
        import {
            getFirestore,
            setLogLevel,
        } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-firestore.js";
        import { 
            getAuth, 
            signInWithPopup,
            GoogleAuthProvider,
        } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-auth.js";

        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries
        // Your web app's Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyDG2yH066S224ShC8PN27uv0eQYfNPwMa4",
            authDomain: "fir-b6113.firebaseapp.com",
            databaseURL: "https://fir-b6113-default-rtdb.firebaseio.com",
            projectId: "fir-b6113",
            storageBucket: "fir-b6113.firebasestorage.app",
            messagingSenderId: "975424791293",
            appId: "1:975424791293:web:51703a22f18a8845c91494",
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const provider = new GoogleAuthProvider();
        provider.addScope('https://www.googleapis.com/auth/contacts.readonly');
        const auth = getAuth();
            
        const googleLogin = document.getElementById('googleButton');
        googleLogin.addEventListener("click", function() {
            signInWithPopup(auth, provider)
            .then((result) => {
                // This gives you a Google Access Token. You can use it to access the Google API.
                const credential = GoogleAuthProvider.credentialFromResult(result);
                const token = credential.accessToken;
                // The signed-in user info.
                const user = result.user;

                console.log(credential, token, user);
                window.location.href = "dashboard.html";
                // IdP data available using getAdditionalUserInfo(result)
                // ...
            }).catch((error) => {
                // Handle Errors here.
                const errorCode = error.code;
                const errorMessage = error.message;
                // The email of the user's account used.
                const email = error.customData.email;
                // The AuthCredential type that was used.
                const credential = GoogleAuthProvider.credentialFromError(error);
                // ...
            });
        });
        </script>
    </body>
</html>
